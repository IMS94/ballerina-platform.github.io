---
layout: ballerina-example-page
title: Optional Type
description: Ballerina by Example is a hands-on introduction to Ballerina using annotated example programs. Check out the first example or browse the full list below.
permalink: /0.990/learn/by-example/optional-type
redirect_from:
  - /v0-990/learn/by-example/optional-type
  - /v0-990/learn/by-example/optional-type.html
---
<div class="row cBallerina-io-Gray-row">
        <div class="container cBallerinaBySampleContainer">
            <div class="FullCode">
                <div class="highlight"><pre><span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">io</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">getValue</span><span class="p">(</span><span class="kt">string</span> <span class="nx">key</span><span class="p">)</span> <span class="nx">returns</span> <span class="kt">string</span><span class="p">|()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">();</span>
<span class="p">}</span><span class="nx">type</span> <span class="nx">address</span> <span class="nx">record</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="nx">line01</span><span class="p">;</span>
    <span class="kt">string</span> <span class="nx">line02</span><span class="p">;</span>
    <span class="kt">string</span> <span class="nx">city</span><span class="p">;</span>
    <span class="kt">string</span> <span class="nx">state</span><span class="p">;</span>
    <span class="kt">string</span> <span class="nx">zipcode</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">type</span> <span class="nx">person</span> <span class="nx">record</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="nx">name</span><span class="p">;</span>
    <span class="kt">int</span> <span class="nx">age</span><span class="p">;</span>
    <span class="nx">address</span><span class="err">?</span> <span class="nx">addr</span><span class="p">;</span>
    <span class="nx">person</span><span class="err">?</span> <span class="nx">guardian</span><span class="p">;</span>
<span class="p">};</span><span class="nx">public</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">person</span> <span class="nx">p</span> <span class="p">=</span> <span class="p">{</span><span class="nx">name</span><span class="p">:</span> <span class="s">&quot;Paul&quot;</span><span class="p">,</span> <span class="nx">age</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">addr</span><span class="p">:</span> <span class="p">(),</span> <span class="nx">guardian</span><span class="p">:()};</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
    <span class="nx">address</span><span class="err">?</span> <span class="nx">addr</span> <span class="p">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">addr</span><span class="p">;</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="nx">addr</span><span class="p">);</span>    <span class="nx">address</span> <span class="nx">myAddr</span> <span class="p">=</span> <span class="p">{</span><span class="nx">line01</span><span class="p">:</span> <span class="s">&quot;No. 61&quot;</span><span class="p">,</span> <span class="nx">line02</span><span class="p">:</span> <span class="s">&quot;Brandon street&quot;</span><span class="p">,</span>
                      <span class="nx">city</span><span class="p">:</span> <span class="s">&quot;Santa Clara&quot;</span><span class="p">,</span> <span class="nx">state</span><span class="p">:</span> <span class="s">&quot;CA&quot;</span><span class="p">,</span> <span class="nx">zipcode</span><span class="p">:</span> <span class="s">&quot;95134&quot;</span><span class="p">};</span>
    <span class="nx">p</span><span class="p">.</span><span class="nx">addr</span> <span class="p">=</span> <span class="nx">myAddr</span><span class="p">;</span>    <span class="nx">addr</span> <span class="p">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">addr</span><span class="p">;</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="nx">addr</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

            </div>

            <div class="col-xs-12 col-sm-12 col-md-12">
                <table class="cTopInfoContainer cTopControlsContainer">
                    <tr>
                        <td class="cLeftTD">
                            <h2>Optional Type</h2>
                            <p><p>One of the design principles of the type system of Ballerina is to eliminate null reference errors.
 Over the years, null reference errors have caused numerous system crashes, security vulnerabilities, etc.
 Optional types in Ballerina are union types that allow developers to identify where the value or the function
 is of type <code>T</code>. Optionally, this can be done for any T. You can syntactically represent this as <code>T?</code> or T|()`.</p>
</p>

                        </td>
                        <td class="cRightTD">
                            <div class="cTopButtonContainer">
                                
                                <div class="cButtonInfoContainer">
                                    <a class="prev" href="byte-type.html">
                                        <span>< PREVIOUS</span>
                                        <p>Byte Type</p>
                                    </a>
                                </div>
                                 
                                <div class="cButtonInfoContainer">
                                    <a class="next" href="anydata-type.html">
                                        <span>NEXT ></span>
                                        <p>Anydata Type</p>
                                    </a>
                                </div>
                                
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="example" id="optional-type">
                <div class="col-xs-12 col-sm-12 col-md-12 cBBETable-container cCodeLeft">
                    <table class="cTopControlsContainer">
                        <tr>
                            <td class="cLeftTD">
                                <div class="cBBE-links">
                                    <ul>
                                        <li>
                                            <a class="copy"><img src="/img/copy-icon.svg" /></a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://github.com/ballerina-lang/ballerina/tree/master/examples/optional-type/"><img src="/img/github-logo-green.svg" /></a>
                                        </li>
                                    </ul>
                                </div>
                            </td>
                            <td></td>
                        </tr>
                    </table>

                    <table class="cTopBorder-table">
                        <tr>
                            <td class="cCodeTD"></td>
                            <td class="cDescTD"></td>
                        </tr>
                    </table>

                    
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        

                    <div>

                        <table class="cBBE-body">
                            
                            <tr class="cTR">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>import ballerina/io;
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR hover-enable">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>function getValue(string key) returns string|() {
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>This function optionally returns a string value.</p>

                                        </div>
                                    </div>
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR hover-enable">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>    return ();
}
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>In Ballerina, the <code>nil</code> type that is provided as <code>()</code> contains a single value named <code>nil</code>. This is used
 to represent the absence of any other value.
 The nil value is written as <code>()</code> or <code>null</code>.
 <code>null</code> is syntactic sugar for <code>nil</code> that is to be used with JSON values because JSON uses <code>null</code>.
 The implicit initial value for the <code>nil</code> type is <code>()</code>.</p>

                                        </div>
                                    </div>
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>type address record {
    string line01;
    string line02;
    string city;
    string state;
    string zipcode;
};
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR hover-enable">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>type person record {
    string name;
    int age;
    address? addr;
    person? guardian;
};
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Here, the <code>addr</code> and <code>guardian</code> fields may or may not contain values. And either all the fields must be assigned with
 default values e.g. <code>string name = &quot;&quot;</code> or be initialized before use.</p>

                                        </div>
                                    </div>
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>public function main() {
    person p = {name: &quot;Paul&quot;, age: 40, addr: (), guardian:()};
    io:println(p);
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR hover-enable">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>    address? addr = p.addr;
    io:println(addr);
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>It is optional for the <code>addr</code> field to have a value. Therefore, it needs to be handled explicitly.
 The statement <code>address addr = p.addr</code> produces a compilation error.
 The next example demonstrates how you can operate on the address record if a value is available.</p>

                                        </div>
                                    </div>
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR">

                                <td class="code leading">
                                    <div class="highlight"><pre><code class=ballerina>    address myAddr = {line01: &quot;No. 61&quot;, line02: &quot;Brandon street&quot;,
                      city: &quot;Santa Clara&quot;, state: &quot;CA&quot;, zipcode: &quot;95134&quot;};
    p.addr = myAddr;
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR">

                                <td class="code">
                                    <div class="highlight"><pre><code class=ballerina>    addr = p.addr;
    io:println(addr);
}
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                        </table>
                    </div>
                    
                        
                            
                                
                            
                        
                            
                                
                            
                        

                    <div>

                        <table class="cBBE-body">
                            
                            <tr class="cTR cOutputTr">

                                <td class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># To run this sample, navigate to the directory that contains the
# `.bal` file and issue the `ballerina run` command.
$ ballerina run optional_type.bal
{name:&quot;Paul&quot;, age:40, addr:null, guardian:null}
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                            <tr class="cTR cOutputTr">

                                <td class="code cOutput">
                                    <div class="highlight"><pre><code class=shell-session>{line01:&quot;No. 61&quot;, line02:&quot;Brandon street&quot;, city:&quot;Santa Clara&quot;, state:&quot;CA&quot;, zipcode:&quot;95134&quot;}
</code></pre></div>

                                </td>
                                <td class="docs">
                                    
                                </td>
                            </tr>
                            
                        </table>
                    </div>
                    


                    <table class="cBottomBorder-table">
                        <tr>
                            <td class="cCodeTD"></td>
                            <td class="cDescTD"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

     <script>
            $(document).ready(function() {

                hljs.initHighlightingOnLoad();

                $(".switch").click(function() {
                    $(".cCodeRight").toggleClass('cShow');
                    $(".cCodeLeft").toggleClass('cHide');
                });

                // register "copy to clipboard" event to elements with "copy" class
                var clipboard = new ClipboardJS('.copy', {
                    text: function(trigger) {
                        return $('.FullCode').find('pre').text();
                    }
                });

                // Register events show hide tooltip on click event
                clipboard.on('success', function(e) {
                    setTooltip(e.trigger, 'Copied!');
                    hideTooltip(e.trigger);
                });

                clipboard.on('error', function(e) {
                    setTooltip(e.trigger, 'Failed!');
                    hideTooltip(e.trigger);
                });

                $('.copy').tooltip({
                    trigger: 'click',
                    placement: 'bottom'
                });
                $("a.copy").unbind("click");
            });

            function setTooltip(btn, message) {
                $(btn).attr('data-original-title', message)
                    .tooltip('show');
            }

            function hideTooltip(btn) {
                setTimeout(function() {
                    $(btn).tooltip('hide').removeAttr('data-original-title');
                }, 1000);
            }
        </script>
